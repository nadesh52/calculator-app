(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[754],{2511:(e,t,s)=>{Promise.resolve().then(s.bind(s,8664))},8664:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var a=s(5155),l=s(2115);let n=e=>{let{items:t,removeId:s}=e,[n,r]=(0,l.useState)(0),[c,i]=(0,l.useState)(0),x=e=>{s(e)};return(0,l.useEffect)(()=>{if(t){let e=t.reduce(function(e,t){return e.average>t.average?e:t}),s=t.reduce(function(e,t){return e.average<t.average?e:t});r(e.average),i(s.average)}},[t,n,c]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("ul",{className:"space-y-4 px-2",children:t.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)("div",{className:"".concat(e.average===n&&"border-l-success bg-success/30"||e.average===c&&"border-l-error bg-error/30"||"bg-white"," rounded-r border-l-4 p-4 shadow transition-all hover:-translate-y-0.5 hover:shadow-lg"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:e.quantity}),(0,a.jsx)("p",{className:"select-none text-xs text-slate-400",children:"Quantity"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:e.count}),(0,a.jsx)("p",{className:"select-none text-xs text-slate-400",children:"Count"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:e.price}),(0,a.jsx)("p",{className:"select-none text-xs text-slate-400",children:"Price"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:e.average}),(0,a.jsx)("p",{className:"select-none text-xs text-slate-400",children:"Average"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>x(e),children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5 text-error",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})})]})})},t))})})},r={id:0,quantity:0,price:0,count:1,average:0},c=(e,t,s)=>{let a=e*s/t;return Number.isInteger(a)?a:a.toFixed(2)},i=e=>{let{formData:t}=e,[s,n]=(0,l.useState)(r),i=e=>{let t=e.target.name,s=e.target.value,a=Date.now().toString().slice(-5);n(e=>({...e,[t]:s,id:a}))};return(0,a.jsxs)("form",{className:"flex items-end justify-center gap-4",onSubmit:e=>{e.preventDefault();let a=c(s.quantity,s.price,s.count);t({id:s.id,quantity:s.quantity,price:s.price,count:s.count,average:a}),n(r)},children:[(0,a.jsxs)("label",{children:[(0,a.jsx)("h6",{className:"text-center text-sm text-white",children:"Count"}),(0,a.jsx)("input",{type:"number",name:"count",value:s.count||"",onChange:i,required:!0,placeholder:"2",className:"input h-12 w-full text-center"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("h6",{className:"text-center text-sm text-white",children:"Quantity"}),(0,a.jsx)("input",{type:"number",name:"quantity",value:s.quantity||"",onChange:i,required:!0,placeholder:"1950",className:"input h-12 w-full text-center"})]}),(0,a.jsxs)("label",{children:[(0,a.jsx)("h6",{className:"text-center text-sm text-white",children:"Price"}),(0,a.jsx)("input",{type:"number",name:"price",value:s.price||"",onChange:i,required:!0,placeholder:"37",className:"input h-12 w-full text-center"})]}),(0,a.jsx)("button",{type:"submit",className:"btn",children:(0,a.jsx)("p",{className:"text-lg font-medium",children:"Add"})})]})},x=e=>{let{wrapper:t}=e;return(0,a.jsx)("button",{onClick:()=>{t([])},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-8 text-white",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"})})})},d={id:0,name:"-",quantity:0,price:0,count:0,average:0},m=e=>e.reduce(function(e,t){return e&&e.average>t.average?e:t}),u=e=>{let{items:t}=e,[s,n]=(0,l.useState)(d);return(0,l.useEffect)(()=>{0!==t.length?n(m(t)):n(d)},[t]),(0,a.jsx)("div",{className:"relative bg-white rounded shadow py-4 px-8",children:(0,a.jsxs)("div",{className:"flex-grow flex gap-8 items-center justify-between max-w-screen-sm min-[425px]:w-[350px] min-w-[250px]",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"sm:text-2xl font-medium",children:s.quantity}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Quantity"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"sm:text-2xl font-medium",children:s.price}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Price"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"sm:text-2xl font-medium",children:s.count}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Count"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"sm:text-2xl font-semibold",children:s.average}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Average"})]})]})})},o=()=>{let[e,t]=(0,l.useState)(JSON.parse(localStorage.getItem("items"))||[]),s=(0,l.useCallback)(e=>{t(e)},[t]);return(0,l.useEffect)(()=>{let e=localStorage.getItem("items");null!==e&&t(JSON.parse(e))},[]),(0,l.useEffect)(()=>{localStorage.setItem("items",JSON.stringify(e))},[e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("article",{className:"fixed top-0 h-[80px] w-full bg-base-content sm:h-[72px]",children:[(0,a.jsx)("div",{className:"flex justify-end p-3",children:(0,a.jsx)(x,{wrapper:s})}),(0,a.jsx)("div",{className:"absolute left-1/2 top-14 -translate-x-1/2 sm:top-10",children:(0,a.jsx)(u,{items:e})})]}),(0,a.jsx)("article",{className:"mx-auto mb-3 max-w-screen-sm pt-[106px]",children:(0,a.jsx)("div",{id:"container",className:"h-[calc(100svh-185px)] py-4",children:e.length?(0,a.jsx)(n,{items:e,removeId:e=>{t(t=>t.filter(t=>t.id!==e.id))}}):null})}),(0,a.jsx)("div",{className:"fixed bottom-0 w-full bg-base-content px-4 pb-4 pt-2",children:(0,a.jsx)(i,{formData:e=>{t(t=>[...t,e])}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(2511)),_N_E=e.O()}]);